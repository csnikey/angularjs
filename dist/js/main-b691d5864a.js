!function(){function t(){var t=document.documentElement,e=t.clientWidth;e>400&&(e=400),t.style.fontSize=e/7.5+"px"}document.addEventListener("DOMContentLoaded",function(){t()},!1),window.onresize=function(){t()}}();var app=angular.module("app",["ui.router","ngFileUpload","me-lazyload"]);app.run(["$rootScope","$state","$stateParams","$location","$window","indexData",function(t,e,a,o,n,i){t.$state=e}]),app.config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider",function(t,e,a,o){a.interceptors.push(HttpInterceptor),e.otherwise("/index/questions"),t.state("index",{abstract:!0,url:"/index",templateUrl:"pages/index.html"}).state("index.questions",{url:"/questions",templateUrl:"pages/questions.html",controller:"indexCtrl"})}]),$("#file").change(function(){var t=$(this).val();console.log(t),$.post("http://test.yilian.zhuojianchina.com/weixin/hocus.htm?action=uploadImg",{picture:t},function(t){console.log(t)})});var app=angular.module("app",[]);app.controller("indexCtrl",["$scope",function(t){t.items=[1,3,20]}]),app.controller("baseCtrl",["$scope",function(t){t.items=[1,7e3,20]}]),function(t,e,a){app.controller("indexCtrl",["$scope","$state",function(t,e){t.items=[1,11,3]}])}(window,document),function(t,e,a){app.controller("caihuaCtrl",["$scope","$stateParams","indexData",function(t,e,a){var o="/api/"+root+"/index/artistic";a.getData(o).success(function(e){t.data=e.data}),t.tabs=[{title:"付费医生",type:"answer",float:"fl"},{title:"人气医生",type:"authen",float:"fr"}],e.type?t.type=e.type:t.type=0}])}(window,document),function(t,e,a){function o(e,a,o,n){function i(t){e.page=e.page+1;var a="/api/"+root+"/index/questions?type=pay_to_see_hot&page="+e.page;a="hot"==t?"/api/"+root+"/index/questions?type=pay_to_see_hot&page="+e.page:"/api/"+root+"/index/questions?type=pay_to_see&page="+e.page,o.get(a).success(function(t){0==t.status?0==t.data.data.length?layer.msg("已经没有数据了"):(r(t),p(t)):layer.msg(t.msg)})}function s(o,i,s,r,p){var c=(t.event,e.data),u=e.type,l=e.page,d=o;n.setData(c,u,l,d),"1"==r?a.go("pDetail",{uid:o}):i==s?a.go("myDetail",{uid:o}):7==p?location.href="/?#/detail2/"+o:a.go("detail",{uid:o})}function r(t){t.data.data.forEach(function(t){t.description=t.description.substr(0,10)+"**********",t.question_exts.forEach(function(t){t.description=t.description.substr(0,10)+"**********"})})}function p(t){e.data=e.data.concat(t.data.data)}function c(t,e){for(var a=!1,o=0,n=e.length;o<n;o++)if(t==e[o].id){a=!0;break}return a}var u="/api/"+root+"/index/questions?type=pay_to_see_hot";root;e.type="hot",e.page=1,e.getMore=i,e.goDetail=s,e.isPay=c,e.data=[],n.getData().flag?n.init(e):o.get(u).success(function(t){0==t.status?(r(t),p(t)):-5==t.status&&layer.msg(t.data)}),weishare(),e.tabs=[{title:"热门",type:"hot",float:"fl"},{title:"最新",type:"new",float:"fr"}]}o.$inject=["$scope","$state","ajax","store"],angular.module("app").controller("paycasesCtrl",o)}(window,document),function(t,e,a){function o(e,a,o,n,i){function s(t){e.page=e.page+1;var a="/api/"+root+"/index/questions?type="+t+"&page="+e.page;"jingpin"==t?a="/api/"+root+"/index/shares?page="+e.page:"matches"==t&&(a="/api/"+root+"/index/matches?page="+e.page),n.get(a).success(function(t){0==t.status?0==t.data.data.length?layer.msg("已经没有数据了"):t.data.data.forEach(function(t){e.data.push(t)}):layer.msg(t.msg)})}function r(a,n,s,r,p){var c=(t.event,e.data),u=e.type,l=e.page,d=a;i.setData(c,u,l,d),"1"==r?o.go("pDetail",{uid:a}):n==s?o.go("myDetail",{uid:a}):7==p?location.href="/?#/detail2/"+a:o.go("detail",{uid:a})}function p(t,e){for(var a=!1,o=0,n=e.length;o<n;o++)if(t==e[o].id){a=!0;break}return a}var c=location.search,u="/api/"+root+"/index/questions";e.type="new",e.page=1,e.getMore=s,e.goDetail=r,e.isPay=p,c&&(u+=c),i.getData().flag?i.init(e):n.get(u).success(function(t){0==t.status?(e.data=t.data.data,c&&0==a.isFocus&&$(".show-share").removeClass("hide")):-5==t.status&&layer.msg(t.data)}),weishare(),e.tabs=[{title:"提问榜",type:"new",float:"fl"},{title:"精品榜",type:"jingpin",float:"fl"}]}o.$inject=["$scope","$rootScope","$state","ajax","store"],angular.module("app").controller("questionsCtrl",o)}(window,document);